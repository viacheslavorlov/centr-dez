---
import type { CollectionEntry } from 'astro:content';
import { getCollection } from 'astro:content';
import Container from '../shared/ui/Container.astro';
import Section from '../shared/ui/Section.astro';
import { Image } from 'astro:assets';
import ButtonLink from 'src/shared/ui/ButtonLink.astro';

const collectionData = await getCollection('dangers'); // change collection name
const collection: CollectionEntry<'dangers'>['data'] = collectionData.map(item => item.data);
console.log(collectionData)

---

<Section>
	<Container>
		<h2 class="text-4xl text-left w-full md:w-3/4 self-start">{collection.titel}</h2>
		<div class='flex flex-col md:grid grid-cols-12 gap-8 md:gap-12'>
			{
				collection.map(item => (
					<div class='border shadow-xl border-accent-secondary rounded-2xl flex flex-col gap- p-2 md:p-6 lg:p-10 col-span-12 md:col-span-6 lg:col-span-4'>
						<div class="flex justify-between">
							<h3 class="text-2xl">{item.title}</h3>
							
						</div>
						<p class="text-lg">{item.description}</p>
						<div>
							
							<Image
									height={'200'}
									width={'200'}
									src={item.img}
									alt={''}
								/>
								<ButtonLink href=''/>
							</div>
					</div>
				))
			}
		</div>
		<ButtonLink
			href={collection.buttonLink}
			title={collection.buttonLable}
		/>
	</Container>
</Section>