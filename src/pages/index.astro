---
import { Image } from 'astro:assets';
import Calculator from 'src/partials/Calculator.astro';
import Layout from '../layouts/Layout.astro';
import Details from '../partials/Details.astro';
import DontDoItYourself from '../partials/DonDoItYourself.astro';
import Hero from '../partials/Hero.astro';
import Quiz from '../partials/Quiz.astro';
import Types from '../partials/Types.astro';
import Contacts from '../partials/Contacts.astro'
import WhatAwaits from '../partials/WhatAwaits.astro';
import HoveringButton from '../shared/ui/HoveringButton.astro'
import Modal from '../shared/ui/Modal.astro'
import { reader } from '../reader';

const heroData = await reader.singletons.hero.read();
---

<Layout
	phone={heroData?.phone}
	icon={'/favicon.ico'}
	title={heroData?.windowTitle || ''}>
	<Hero />
	<Quiz />
	<Modal>
		Modal
	</Modal>
	<DontDoItYourself />
	<WhatAwaits />
	<Calculator />
	<Types/>
	<Details />
	<Contacts/>
	<HoveringButton url="/form" title="Перезвоните мне" className="" />
</Layout>
<style is:global>
	@keyframes slide {
		0% {
			opacity: 1;
			bottom: -100%;
			left: -10%;
			width: 10%;
			height: 201%;
		}
		15% {
			opacity: 0.9;
			left: -30%;
			bottom: -180%;
			width: 100%;
			height: 350%;
		}
		30% {
			opacity: 0.8;
			left: -50%;
			bottom: -200%;
			width: 400%;
			height: 400%;
		}
		40% {
			opacity: 0;
			width: 500%;
			height: 400%;
		}
		100% {
			opacity: 0;
		}
	}

	.button {
		font-size: larger;
		overflow: hidden;
		position: relative;
		transition: all 200ms;
		--tw-drop-shadow: drop-shadow(0 10px 8px rgb(0 0 0 / 0.04))
			drop-shadow(0 4px 3px rgb(0 0 0 / 0.2));
		filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale)
			var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia)
			var(--tw-drop-shadow);
	}

	@media screen and (min-width: 768px) {
		.button {
			font-size: x-large;
		}
	}

	.button::before {
		content: '';
		position: absolute;
		bottom: -50%;
		left: -10%;
		width: 30%;
		height: 200%;
		background: linear-gradient(60deg, transparent, #fafafa);
		animation: slide 4s linear infinite;
		border-radius: 50%;
	}
	.button:hover {
		transform: scale(1.05);
	}

	.button:disabled {
		background: gray;
		pointer-events: none;
	}
</style>
